<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; display: none; }
        .menu {
            position: absolute; top: 10%; left: 2%;
            width: 250px; background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00c6ff; border-radius: 10px; color: white;
            padding: 15px; box-shadow: 0 0 20px #00c6ff;
        }
        button {
            width: 100%; padding: 10px; margin: 5px 0;
            background: #222; color: #00c6ff; border: 1px solid #00c6ff;
            cursor: pointer; font-weight: bold;
        }
        button:hover { background: #00c6ff; color: black; }
    </style>
</head>
<body>
    <div class="menu">
        <h2 style="text-align:center">MOD MENU</h2>
        <button onclick="exec('heal')">SANTÉ</button>
        <button onclick="exec('repair')">RÉPARER</button>
        <button onclick="window.closeMenu()">FERMER</button>
    </div>

    <script>
        window.addEventListener('message', function(event) {
            if (event.data.type === "show") { document.body.style.display = "block"; }
        });

        function exec(action) {
            // On renvoie l'action au Lua du jeu
            fetch(`https://baseevents/action`, { 
                method: 'POST', 
                body: JSON.stringify({ act: action }) 
            });
        }

        window.closeMenu = function() {
            document.body.style.display = "none";
            fetch(`https://baseevents/close`, { method: 'POST' });
        }
    </script>
</body>
</html>
